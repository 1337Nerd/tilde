<!doctype html>

<!-- home is where the ~ is -->
<title>~</title>

<!-- meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<!-- fonts -->
<script type="text/javascript">WebFontConfig={google:{families:['Lato:300:latin']}};</script>
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js" type="text/javascript" async></script>

<!-- styles -->
<style type="text/css">
  input,
  input:focus {
    border: 0;
    outline: 0;
    -webkit-appearance: none;
  }

  input[type="search"]::-webkit-search-decoration,
  input[type="search"]::-webkit-search-cancel-button,
  input[type="search"]::-webkit-search-results-button,
  input[type="search"]::-webkit-search-results-decoration {
    display: none;
  }

  body {
    position: absolute;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    background: #29323c;
    color: #fff;
    font-family: 'Lato';
    font-weight: 300;
    text-align: center;
  }

  .wrapper {
    position: relative;
    top: 25%;
    padding: 1rem;
  }

  .time {
    font-size: 5rem;
    letter-spacing: 6px;
  }

  .search {
    margin-top: 2rem;
  }

  .search__text {
    box-sizing: border-box;
    width: 100%;
    max-width: 300px;
    padding: 0.75rem;
    background: #3F4A56;
    border-radius: 2px;
    color: #fff;
    font-size: 1.1rem;
  }

  .help {
    width: 300px;
    margin: 1rem auto 0;
    text-align: left;
  }
</style>

<!-- markup -->
<div class="wrapper">
  <time class="time" id="js-time"></time>

  <form class="search" id="js-search" autocomplete="off">
    <input class="search__text" id="js-search-text" type="search" autofocus>
  </form>

  <pre class="help" id="js-help"></pre>
</div>

<!-- script -->
<script type="text/javascript">
  ;(function() {
    var Clock = {
      el: document.getElementById('js-time'),

      init: function() {
        Clock.setTime();
        setInterval(Clock.setTime, 1000);
      },

      zeros: function(num) {
        return ('0' + num.toString()).slice(-2);
      },

      setTime: function() {
        var date = new Date();
        var time = Clock.zeros(date.getHours()) + ' ' + Clock.zeros(date.getMinutes());

        Clock.el.innerHTML = time;
      }
    };

    var Commander = {
      searchForm: document.getElementById('js-search'),
      searchText: document.getElementById('js-search-text'),
      searchHelp: document.getElementById('js-help'),

      init: function(commands) {
        Commander.commands = commands;
        Commander.searchForm.addEventListener('submit', Commander.search, false);
      },

      search: function(e) {
        var q = Commander.searchText.value;

        if (q === '?') {
          var helpMessage = '';

          Commander.commands.forEach(function(command) {
            helpMessage += command.key + ': ' + command.url + '\n';
          });

          Commander.searchHelp.innerHTML = helpMessage;
          Commander.searchText.value = '';
        } else {
          Commander.location = 'https://www.google.com/search?q=' + q;

          Commander.commands.forEach(function(command) {
            if (q === command.key) Commander.location = command.url;
          });

          window.location.href = Commander.location;
        }

        e.preventDefault();
      }
    };

    Clock.init();

    // add commands here
    Commander.init([
      { key: 'i', url: 'https://inbox.google.com' },
      { key: 'k', url: 'https://keep.google.com' },
      { key: 'g', url: 'https://github.com' },
      { key: 'r', url: 'https://www.reddit.com' },
      { key: 't', url: 'https://twitter.com' },
      { key: 'f', url: 'https://www.facebook.com' }
    ]);
  }());
</script>
